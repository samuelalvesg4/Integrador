{"ast":null,"code":"import React from'react';import{Link,useNavigate}from\"react-router-dom\";import{ShoppingCart}from\"lucide-react\";import{useCart}from'../context/CartContext';import useUser from'../hooks/useUser';import Logo from'./logosemd.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(){const user=useUser();const navigate=useNavigate();const{cartItems}=useCart();const handleLogout=()=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"user\");window.dispatchEvent(new Event(\"userChanged\"));navigate(\"/login\");};const totalItems=Array.isArray(cartItems)?cartItems.reduce((acc,item)=>acc+item.quantity,0):0;const isLoggedIn=!!user;const isSeller=(user===null||user===void 0?void 0:user.role)===\"seller\";const isCustomer=(user===null||user===void 0?void 0:user.role)===\"customer\"||(user===null||user===void 0?void 0:user.role)===\"client\";return/*#__PURE__*/_jsxs(\"header\",{className:\"bg-white shadow-md p-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"Logo da Loja\",className:\"h-[50px]\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:isLoggedIn?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-actions\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"Ol\\xE1, \",user.name]}),isSeller&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/my-products\",className:\"text-gray-600 hover:text-blue-600\",children:\"Meus Produtos\"}),/*#__PURE__*/_jsx(Link,{to:\"/sales\",className:\"text-gray-600 hover:text-blue-600\",children:\"Minhas Vendas\"}),/*#__PURE__*/_jsx(Link,{to:\"/seller-dashboard\",className:\"text-gray-600 hover:text-blue-600\",children:\"Painel\"})]}),isCustomer&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/customer-dashboard\",className:\"text-gray-600 hover:text-blue-600\",children:\"Meus Pedidos\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"relative\",onClick:()=>navigate(\"/cart\"),children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-6 h-6 text-gray-800\"}),totalItems>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-500 text-xs text-white rounded-full w-5 h-5 flex items-center justify-center\",children:totalItems})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700\",children:\"Sair\"})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700\",children:\"Cadastro\"})]})})]});}","map":{"version":3,"names":["React","Link","useNavigate","ShoppingCart","useCart","useUser","Logo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","user","navigate","cartItems","handleLogout","localStorage","removeItem","window","dispatchEvent","Event","totalItems","Array","isArray","reduce","acc","item","quantity","isLoggedIn","isSeller","role","isCustomer","className","children","to","src","alt","name","onClick"],"sources":["C:/Users/Samuel Alves/Desktop/Integrador/frontend/src/components/Header.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ShoppingCart } from \"lucide-react\";\nimport { useCart } from '../context/CartContext';\nimport useUser from '../hooks/useUser';\nimport Logo from './logosemd.png';\n\nexport default function Header() {\n    const user = useUser();\n    const navigate = useNavigate();\n    const { cartItems } = useCart();\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        window.dispatchEvent(new Event(\"userChanged\"));\n        navigate(\"/login\");\n    };\n\n    const totalItems = Array.isArray(cartItems) ? cartItems.reduce((acc, item) => acc + item.quantity, 0) : 0;\n\n    const isLoggedIn = !!user;\n    const isSeller = user?.role === \"seller\";\n    const isCustomer = user?.role === \"customer\" || user?.role === \"client\";\n\n    return (\n        <header className=\"bg-white shadow-md p-4 flex justify-between items-center\">\n            <Link to=\"/\" className=\"flex items-center space-x-2\">\n                <img src={Logo} alt=\"Logo da Loja\" className=\"h-[50px]\" />\n            </Link>\n\n            <div className=\"flex items-center space-x-4\">\n                {isLoggedIn ? (\n                    <>\n                        <div className=\"user-actions\">\n                          <span className=\"font-medium\">\n                              Ol√°, {user.name}\n                          </span>\n                          {isSeller && (\n                              <>\n                                  <Link to=\"/my-products\" className=\"text-gray-600 hover:text-blue-600\">Meus Produtos</Link>\n                                  <Link to=\"/sales\" className=\"text-gray-600 hover:text-blue-600\">Minhas Vendas</Link>\n                                  <Link to=\"/seller-dashboard\" className=\"text-gray-600 hover:text-blue-600\">Painel</Link>\n                              </>\n                          )}\n                          {isCustomer && (\n                              <>\n                                  <Link to=\"/customer-dashboard\" className=\"text-gray-600 hover:text-blue-600\">Meus Pedidos</Link>\n                                  <button\n                                      className=\"relative\"\n                                      onClick={() => navigate(\"/cart\")}\n                                  >\n                                      <ShoppingCart className=\"w-6 h-6 text-gray-800\" />\n                                      {totalItems > 0 && (\n                                          <span className=\"absolute -top-2 -right-2 bg-red-500 text-xs text-white rounded-full w-5 h-5 flex items-center justify-center\">\n                                              {totalItems}\n                                          </span>\n                                      )}\n                                  </button>\n                              </>\n                          )}\n                          \n                          <button\n                              onClick={handleLogout}\n                              className=\"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700\"\n                          >\n                              Sair\n                          </button>\n                        </div>\n                    </>\n                ) : (\n                    <>\n                        <Link\n                            to=\"/login\"\n                            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n                        >\n                            Login\n                        </Link>\n                        <Link\n                            to=\"/register\"\n                            className=\"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700\"\n                        >\n                            Cadastro\n                        </Link>\n                    </>\n                )}\n            </div>\n        </header>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}