{"ast":null,"code":"import React,{useEffect,useState}from'react';import ProductCard from'../components/ProductCard';import Header from'../components/Header';import SearchBar from'../components/SearchBar';import{getProducts}from'../services/api';import Wrapper from'../components/Wrapper';import'../components/grid.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Home=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[query,setQuery]=useState('');useEffect(()=>{const fetchAllProducts=async()=>{try{const data=await getProducts();setProducts(data);}catch(err){console.error(\"Erro ao buscar todos os produtos\",err);}finally{setLoading(false);}};fetchAllProducts();const handler=()=>fetchAllProducts();window.addEventListener(\"productAdded\",handler);return()=>window.removeEventListener(\"productAdded\",handler);},[]);const filteredProducts=products.filter(product=>product.name.toLowerCase().includes(query.toLowerCase()));const gridSize=25;const productsToDisplay=filteredProducts.slice(0,gridSize);const emptyCells=gridSize-productsToDisplay.length;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(SearchBar,{query:query,setQuery:setQuery})}),/*#__PURE__*/_jsx(Wrapper,{children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"grid-container\",children:Array.from({length:gridSize},(_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"grid-item loading\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"})},index))}):filteredProducts.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[productsToDisplay.map(product=>/*#__PURE__*/_jsx(\"div\",{className:\"grid-item\",children:/*#__PURE__*/_jsx(ProductCard,{product:product})},product.id)),Array.from({length:emptyCells},(_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"grid-item empty\"},\"empty-\".concat(index)))]}):/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum produto encontrado.\"})})})]});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","ProductCard","Header","SearchBar","getProducts","Wrapper","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","products","setProducts","loading","setLoading","query","setQuery","fetchAllProducts","data","err","console","error","handler","window","addEventListener","removeEventListener","filteredProducts","filter","product","name","toLowerCase","includes","gridSize","productsToDisplay","slice","emptyCells","length","children","style","display","justifyContent","className","Array","from","_","index","map","id","concat","textAlign","padding"],"sources":["C:/Users/Samuel Alves/Desktop/Integrador/frontend/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ProductCard from '../components/ProductCard';\nimport Header from '../components/Header';\nimport SearchBar from '../components/SearchBar';\nimport { getProducts } from '../services/api';\nimport Wrapper from '../components/Wrapper';\nimport '../components/grid.css';\n\nconst Home = () => {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [query, setQuery] = useState('');\n    \n    useEffect(() => {\n        const fetchAllProducts = async () => {\n            try {\n                const data = await getProducts();\n                setProducts(data);\n            } catch (err) {\n                console.error(\"Erro ao buscar todos os produtos\", err);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchAllProducts();\n\n        const handler = () => fetchAllProducts();\n        window.addEventListener(\"productAdded\", handler);\n        return () => window.removeEventListener(\"productAdded\", handler);\n    }, []);\n\n    const filteredProducts = products.filter(product =>\n        product.name.toLowerCase().includes(query.toLowerCase())\n    );\n\n    const gridSize = 25;\n    const productsToDisplay = filteredProducts.slice(0, gridSize);\n    const emptyCells = gridSize - productsToDisplay.length;\n\n    return (\n        <>\n            <Header />\n            <br />\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <SearchBar query={query} setQuery={setQuery} />\n            </div>\n            <Wrapper>\n                {loading ? (\n                    <div className=\"grid-container\">\n                        {Array.from({ length: gridSize }, (_, index) => (\n                            <div key={index} className=\"grid-item loading\">\n                                <p>Carregando...</p>\n                            </div>\n                        ))}\n                    </div>\n                ) : filteredProducts.length > 0 ? (\n                    <div className=\"grid-container\">\n                        {productsToDisplay.map((product) => (\n                            <div key={product.id} className=\"grid-item\">\n                                <ProductCard product={product} />\n                            </div>\n                        ))}\n                        \n                        {Array.from({ length: emptyCells }, (_, index) => (\n                            <div key={`empty-${index}`} className=\"grid-item empty\"></div>\n                        ))}\n                    </div>\n                ) : (\n                    <div style={{ textAlign: 'center', padding: '20px' }}>\n                        <p>Nenhum produto encontrado.</p>\n                    </div>\n                )}\n            </Wrapper>\n        </>\n    );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}