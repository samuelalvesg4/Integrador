{"ast":null,"code":"// frontend/src/pages/Login.jsx\nimport{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Header from\"../components/Header\";import{login}from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError('');try{const data=await login(email,password);localStorage.setItem(\"token\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));window.dispatchEvent(new Event(\"userChanged\"));alert(\"Login realizado com sucesso!\");navigate(\"/\");}catch(err){var _err$body;console.error(err);setError(((_err$body=err.body)===null||_err$body===void 0?void 0:_err$body.error)||\"Erro de comunicação com o servidor.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-[80vh]\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white p-6 rounded-2xl shadow-md w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 mb-3\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"E-mail\",value:email,onChange:e=>setEmail(e.target.value),className:\"w-full p-2 border rounded mb-3\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Senha\",value:password,onChange:e=>setPassword(e.target.value),className:\"w-full p-2 border rounded mb-3\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\",children:\"Entrar\"})]})})]});}","map":{"version":3,"names":["useState","useNavigate","Header","login","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","data","localStorage","setItem","token","JSON","stringify","user","window","dispatchEvent","Event","alert","err","_err$body","console","body","className","children","onSubmit","type","placeholder","value","onChange","target","required"],"sources":["C:/Users/Samuel Alves/Desktop/Integrador/frontend/src/pages/Login.jsx"],"sourcesContent":["// frontend/src/pages/Login.jsx\n\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport { login } from \"../services/api\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const data = await login(email, password);\n      \n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n\n      window.dispatchEvent(new Event(\"userChanged\"));\n\n      alert(\"Login realizado com sucesso!\");\n      navigate(\"/\");\n    } catch (err) {\n      console.error(err);\n      setError(err.body?.error || \"Erro de comunicação com o servidor.\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <Header />\n      <div className=\"flex justify-center items-center h-[80vh]\">\n        <form\n          onSubmit={handleSubmit}\n          className=\"bg-white p-6 rounded-2xl shadow-md w-96\"\n        >\n          <h2 className=\"text-xl font-bold mb-4\">Login</h2>\n          {error && <p className=\"text-red-500 mb-3\">{error}</p>}\n          <input\n            type=\"email\"\n            placeholder=\"E-mail\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"w-full p-2 border rounded mb-3\"\n            required\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Senha\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"w-full p-2 border rounded mb-3\"\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\"\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}"],"mappings":"AAAA;AAEA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,KAAK,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBJ,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAAhB,KAAK,CAACM,KAAK,CAAEE,QAAQ,CAAC,CAEzCS,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,IAAI,CAACG,KAAK,CAAC,CACzCF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEE,IAAI,CAACC,SAAS,CAACL,IAAI,CAACM,IAAI,CAAC,CAAC,CAEvDC,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAE9CC,KAAK,CAAC,8BAA8B,CAAC,CACrCd,QAAQ,CAAC,GAAG,CAAC,CACf,CAAE,MAAOe,GAAG,CAAE,KAAAC,SAAA,CACZC,OAAO,CAACnB,KAAK,CAACiB,GAAG,CAAC,CAClBhB,QAAQ,CAAC,EAAAiB,SAAA,CAAAD,GAAG,CAACG,IAAI,UAAAF,SAAA,iBAARA,SAAA,CAAUlB,KAAK,GAAI,qCAAqC,CAAC,CACpE,CACF,CAAC,CAED,mBACEN,KAAA,QAAK2B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC9B,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,QAAK6B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxD5B,KAAA,SACE6B,QAAQ,CAAEpB,YAAa,CACvBkB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eAEnD9B,IAAA,OAAI6B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,CAChDtB,KAAK,eAAIR,IAAA,MAAG6B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEtB,KAAK,CAAI,CAAC,cACtDR,IAAA,UACEgC,IAAI,CAAC,OAAO,CACZC,WAAW,CAAC,QAAQ,CACpBC,KAAK,CAAE9B,KAAM,CACb+B,QAAQ,CAAGvB,CAAC,EAAKP,QAAQ,CAACO,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC1CL,SAAS,CAAC,gCAAgC,CAC1CQ,QAAQ,MACT,CAAC,cACFrC,IAAA,UACEgC,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,OAAO,CACnBC,KAAK,CAAE5B,QAAS,CAChB6B,QAAQ,CAAGvB,CAAC,EAAKL,WAAW,CAACK,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC7CL,SAAS,CAAC,gCAAgC,CAC1CQ,QAAQ,MACT,CAAC,cACFrC,IAAA,WACEgC,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,6DAA6D,CAAAC,QAAA,CACxE,QAED,CAAQ,CAAC,EACL,CAAC,CACJ,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}