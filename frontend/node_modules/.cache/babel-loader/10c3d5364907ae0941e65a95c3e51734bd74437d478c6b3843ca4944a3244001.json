{"ast":null,"code":"var _s = $RefreshSig$();\n// frontend/src/hooks/useUser.js\nimport { useState, useEffect } from 'react';\nexport default function useUser() {\n  _s();\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    // Função que lê o localStorage e atualiza o estado\n    const checkUser = () => {\n      const storedUser = localStorage.getItem('user');\n      if (storedUser) {\n        setUser(JSON.parse(storedUser));\n      } else {\n        setUser(null);\n      }\n    };\n\n    // Roda a função uma vez quando o componente é montado\n    checkUser();\n\n    // Adiciona um \"ouvinte\" que recarrega os dados do usuário\n    // sempre que um evento 'userChanged' for disparado (no login/logout)\n    window.addEventListener('userChanged', checkUser);\n\n    // Função de \"limpeza\": remove o ouvinte para evitar problemas de memória\n    return () => {\n      window.removeEventListener('userChanged', checkUser);\n    };\n  }, []);\n  return user;\n}\n_s(useUser, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");","map":{"version":3,"names":["useState","useEffect","useUser","_s","user","setUser","checkUser","storedUser","localStorage","getItem","JSON","parse","window","addEventListener","removeEventListener"],"sources":["C:/Users/Samuel Alves/Desktop/Integrador/frontend/src/hooks/useUser.js"],"sourcesContent":["// frontend/src/hooks/useUser.js\nimport { useState, useEffect } from 'react';\n\nexport default function useUser() {\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        // Função que lê o localStorage e atualiza o estado\n        const checkUser = () => {\n            const storedUser = localStorage.getItem('user');\n            if (storedUser) {\n                setUser(JSON.parse(storedUser));\n            } else {\n                setUser(null);\n            }\n        };\n\n        // Roda a função uma vez quando o componente é montado\n        checkUser();\n\n        // Adiciona um \"ouvinte\" que recarrega os dados do usuário\n        // sempre que um evento 'userChanged' for disparado (no login/logout)\n        window.addEventListener('userChanged', checkUser);\n\n        // Função de \"limpeza\": remove o ouvinte para evitar problemas de memória\n        return () => {\n            window.removeEventListener('userChanged', checkUser);\n        };\n    }, []);\n\n    return user;\n}"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACZ;IACA,MAAMK,SAAS,GAAGA,CAAA,KAAM;MACpB,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC/C,IAAIF,UAAU,EAAE;QACZF,OAAO,CAACK,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAC;MACnC,CAAC,MAAM;QACHF,OAAO,CAAC,IAAI,CAAC;MACjB;IACJ,CAAC;;IAED;IACAC,SAAS,CAAC,CAAC;;IAEX;IACA;IACAM,MAAM,CAACC,gBAAgB,CAAC,aAAa,EAAEP,SAAS,CAAC;;IAEjD;IACA,OAAO,MAAM;MACTM,MAAM,CAACE,mBAAmB,CAAC,aAAa,EAAER,SAAS,CAAC;IACxD,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOF,IAAI;AACf;AAACD,EAAA,CA5BuBD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}